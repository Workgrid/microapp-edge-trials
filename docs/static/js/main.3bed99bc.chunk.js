(this["webpackJsonp@workgrid/microapp-edge-trials"]=this["webpackJsonp@workgrid/microapp-edge-trials"]||[]).push([[0],{243:function(e,a,t){},246:function(e){e.exports=JSON.parse('{"a":"0.2.7"}')},252:function(e,a,t){e.exports=t(559)},451:function(e,a,t){},452:function(e,a,t){},457:function(e,a){},459:function(e,a){},498:function(e,a){},499:function(e,a){},559:function(e,a,t){"use strict";t.r(a);t(253),t(254),t(255),t(256),t(257),t(258),t(259),t(260),t(261),t(262),t(263),t(264),t(265),t(266),t(267),t(268),t(269),t(270),t(271),t(272),t(273),t(274),t(275),t(276),t(92),t(277),t(278),t(279),t(280),t(281),t(282),t(283),t(284),t(285),t(287),t(289),t(290),t(291),t(292),t(293),t(294),t(295),t(296),t(297),t(298),t(299),t(300),t(302),t(303),t(304),t(305),t(306),t(307),t(308),t(309),t(310),t(311),t(312),t(313),t(314),t(316),t(317),t(318),t(319),t(320),t(321),t(323),t(325),t(327),t(328),t(329),t(330),t(331),t(332),t(333),t(334),t(335),t(336),t(337),t(338),t(339),t(340),t(341),t(342),t(343),t(344),t(345),t(346),t(348),t(349),t(352),t(353),t(354),t(356),t(357),t(358),t(359),t(360),t(361),t(362),t(363),t(364),t(365),t(366),t(367),t(368),t(369),t(370),t(371),t(372),t(373),t(374),t(189),t(375),t(376),t(377),t(378),t(379),t(380),t(381),t(382),t(383),t(384),t(385),t(386),t(387),t(388),t(389),t(390),t(391),t(392),t(393),t(394),t(395),t(396),t(397),t(398),t(399),t(400),t(402),t(403),t(404),t(405),t(406),t(407),t(408),t(409),t(410),t(411),t(412),t(413),t(414),t(415),t(416),t(417),t(418),t(419),t(420),t(421),t(422),t(424),t(425),t(426),t(427),t(428),t(429),t(430),t(431),t(432),t(433),t(434),t(435),t(436),t(437),t(438),t(440),t(441),t(442),t(443),t(446),t(198);var n=t(1),c=t.n(n),i=t(245),r=t.n(i),l=(t(451),t(249)),o=t(51),u=t(65),s=t.n(u),m=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"btn secondary",onClick:function(){return window.location.reload(!0)}},"Refresh"))},p=(t(452),t(246)),d=t(154),f=t.n(d),E=t(247),g=t(157),b=t(58),v=t(248),h=[{name:"Token"},{name:"Title"},{name:"Show",inDetail:!1},{name:"Hide"}],w=function(e){var a=e.microapp,t=e.panel,i=void 0===t?"summary":t,r=Object(n.useState)(h.map((function(e){return Object(g.a)({inSummary:!0,inDetail:!0,loading:!1,result:!1},e)}))),l=Object(b.a)(r,2),o=l[0],u=l[1],s=Object(n.useRef)({});Object(n.useEffect)((function(){s.current.Token=p,s.current.Title=d,s.current.Show=w,s.current.Hide=k}));var m=function(e,a){u((function(t){return t.map((function(t){return t.name===e?Object(g.a)({},t,{},a):t}))}))},p=function(){a&&(m("Token",{loading:!0,result:!1}),setTimeout(Object(E.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getToken();case 2:t=e.sent,"edge-microapp"===(n=Object(v.decode)(t)).aud?m("Token",{loading:!1,result:!0}):(m("Token",{loading:!1,result:!1}),console.warn("Invalid token: ".concat(n.aud," !== ").concat("edge-microapp")));case 5:case"end":return e.stop()}}),e)}))),500))},d=function(){m("Title",{result:!1}),a.updateTitle("Title Change: ".concat(Math.floor(500*Math.random()))),m("Title",{result:!0})},w=function(){m("Show",{result:!1}),a.showDetail({url:"".concat(window.location.origin).concat(window.location.pathname,"#/tests")}),m("Show",{result:!0})},k=function(){m("Hide",{result:!1}),a.hideDetail(),m("Hide",{result:!0})};return c.a.createElement(c.a.Fragment,null,c.a.createElement("strong",null,"Tests:"),o.filter((function(e){return"summary"===i&&e.inSummary||"detail"===i&&e.inDetail})).map((function(e){return c.a.createElement("div",{className:"checklist",key:e.name},e.loading?c.a.createElement("span",{"aria-label":"loading",role:"img",className:"pass"},"\ud83e\udd14"):c.a.createElement(c.a.Fragment,null,e.result?c.a.createElement("span",{"aria-label":"pass",role:"img",className:"pass"},"\u2705"):c.a.createElement("span",{"aria-label":"fail",role:"img",className:"pass"},"\u274c")),c.a.createElement("div",{className:"item"},e.name),c.a.createElement("div",{className:"item"},c.a.createElement("button",{className:"btn small action-small",onClick:(a=e.name,function(){s.current[a]()})},"Run")));var a})))},k=function(){var e=Object(n.useRef)(new s.a({id:"edge-microapp-local",audience:"edge-microapp"}));Object(n.useEffect)((function(){e.current.initialize()}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"Edge MicroUI"),c.a.createElement("p",null,'This is the "edgy" microapp v',p.a),c.a.createElement("section",{className:"section"},c.a.createElement("form",null,c.a.createElement(w,{panel:"summary",microapp:e.current}),c.a.createElement("input",{type:"text",style:{marginTop:".4rem"},className:"form-control",placeholder:"Input Test"}))),c.a.createElement("div",{className:"action-block vertical"},c.a.createElement(m,null),c.a.createElement("button",{className:"btn primary",onClick:function(){return a="featurepolicy",void e.current.showDetail({url:"".concat(window.location.origin).concat(window.location.pathname,"#/").concat(a),title:"Edge Microapp"});var a}},"Feature Policy")))},N=(t(243),function(){var e=Object(n.useRef)(new s.a({id:"edge-microapp",audience:"edge-microapp"})),a=Object(n.useState)("geolocation"in navigator),t=Object(b.a)(a,1)[0],i=Object(n.useState)(!!navigator.mediaDevices),r=Object(b.a)(i,1)[0],l=Object(n.useState)("Get location data >>"),o=Object(b.a)(l,2),u=o[0],m=o[1],p=Object(n.useState)(!1),d=Object(b.a)(p,2),f=d[0],E=d[1];Object(n.useEffect)((function(){e.current.initialize()}),[]);return c.a.createElement("div",{className:"container"},c.a.createElement("h1",null,"Feature Policy Detail"),c.a.createElement("p",null,"This detail attempts to get location data. You must include the featurePolicy in the catalog entry for this app."),c.a.createElement("div",{className:"example-block"},c.a.createElement("p",null,"GeoLocation is available: ",JSON.stringify(t)),c.a.createElement("div",{className:"feature-block"},c.a.createElement("pre",null,u),c.a.createElement("div",{tabIndex:"0",className:"feature-icon",onClick:function(){if(t){m("Getting location data");try{navigator.geolocation.getCurrentPosition((function(e){m("lat: ".concat(e.coords.latitude,", lon: ").concat(e.coords.longitude))}))}catch(e){m("Error fetching location data")}}else m("Geolocation is not available")}},c.a.createElement("span",{role:"img","aria-label":"position"},"\ud83e\udded"))),c.a.createElement("p",null,"Media is available: ",JSON.stringify(r)),c.a.createElement("div",{className:"feature-block"},r&&c.a.createElement("div",{tabIndex:"1",className:"feature-icon",onClick:function(){return E((function(e){return!e}))}},c.a.createElement("span",{role:"img","aria-label":"mic",className:f?"on":"off"},"\ud83c\udf99\ufe0f")))))}),O=function(){var e=Object(n.useRef)(new s.a({id:"edge-microapp",audience:"edge-microapp"}));return Object(n.useEffect)((function(){e.current.initialize()}),[]),c.a.createElement("div",{className:"container"},c.a.createElement("h1",null,"Tests in Detail"),c.a.createElement("div",{className:"example-block"},c.a.createElement(w,{microapp:e.current,panel:"detail"})))},j=function(){return c.a.createElement("div",{className:"workgrid"},c.a.createElement(l.a,{basename:window.location.pathname},c.a.createElement(o.a,{path:"/",exact:!0,component:k}),c.a.createElement(o.a,{path:"/featurepolicy",component:N}),c.a.createElement(o.a,{path:"/tests",component:O})))};r.a.render(c.a.createElement(j,null),document.getElementById("root"))}},[[252,1,2]]]);
//# sourceMappingURL=main.3bed99bc.chunk.js.map