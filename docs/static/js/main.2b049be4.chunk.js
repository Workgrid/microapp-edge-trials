(this["webpackJsonp@workgrid/microapp-edge-trials"]=this["webpackJsonp@workgrid/microapp-edge-trials"]||[]).push([[0],{116:function(e,t,a){},276:function(e){e.exports=JSON.parse('{"a":"0.3.0"}')},279:function(e,t,a){e.exports=a(602)},481:function(e,t,a){},486:function(e,t){},488:function(e,t){},501:function(e,t){},503:function(e,t){},531:function(e,t){},532:function(e,t){},537:function(e,t){},539:function(e,t){},563:function(e,t){},597:function(e,t,a){},602:function(e,t,a){"use strict";a.r(t);a(280),a(281),a(282),a(283),a(284),a(285),a(286),a(287),a(288),a(289),a(290),a(291),a(292),a(293),a(294),a(295),a(296),a(297),a(298),a(299),a(300),a(301),a(302),a(303),a(304),a(305),a(306),a(97),a(307),a(308),a(309),a(310),a(311),a(312),a(313),a(314),a(315),a(316),a(317),a(318),a(319),a(321),a(322),a(323),a(324),a(325),a(326),a(327),a(328),a(329),a(330),a(331),a(332),a(334),a(335),a(336),a(337),a(338),a(339),a(340),a(341),a(342),a(343),a(344),a(345),a(347),a(348),a(349),a(350),a(351),a(352),a(354),a(356),a(358),a(359),a(360),a(361),a(362),a(363),a(364),a(365),a(366),a(367),a(368),a(369),a(370),a(371),a(372),a(373),a(374),a(375),a(376),a(377),a(379),a(380),a(383),a(384),a(385),a(387),a(388),a(389),a(390),a(391),a(392),a(393),a(394),a(395),a(396),a(397),a(197),a(398),a(399),a(400),a(401),a(402),a(403),a(404),a(200),a(405),a(406),a(407),a(408),a(409),a(410),a(411),a(412),a(413),a(414),a(415),a(416),a(417),a(418),a(419),a(420),a(421),a(422),a(423),a(424),a(425),a(426),a(427),a(428),a(429),a(430),a(434),a(435),a(436),a(437),a(438),a(439),a(440),a(441),a(442),a(443),a(444),a(445),a(446),a(447),a(448),a(449),a(450),a(451),a(452),a(453),a(454),a(455),a(456),a(457),a(458),a(459),a(460),a(461),a(462),a(463),a(464),a(465),a(466),a(467),a(468),a(469),a(470),a(471),a(472),a(473),a(476),a(210);var n=a(0),c=a.n(n),r=a(273),i=a.n(r),l=(a(481),a(277)),o=a(17),s=a(161),m=a.n(s),u=a(274),p=a(164),f=a(37),d=a(275),E=[{name:"Token"},{name:"Title"},{name:"Show",inDetail:!1},{name:"Hide"}],b=function(e){var t=e.microapp,a=e.panel,r=void 0===a?"summary":a,i=Object(n.useState)(E.map((function(e){return Object(p.a)({inSummary:!0,inDetail:!0,loading:!1,result:!1},e)}))),l=Object(f.a)(i,2),o=l[0],s=l[1],b=Object(n.useRef)({});Object(n.useEffect)((function(){b.current.Token=w,b.current.Title=g,b.current.Show=v,b.current.Hide=k}));var h=function(e,t){s((function(a){return a.map((function(a){return a.name===e?Object(p.a)({},a,{},t):a}))}))},w=function(){t&&(h("Token",{loading:!0,result:!1}),setTimeout(Object(u.a)(m.a.mark((function e(){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getToken();case 2:a=e.sent,(n=Object(d.decode)(a)).aud===window.location.origin+window.location.pathname?h("Token",{loading:!1,result:!0}):(h("Token",{loading:!1,result:!1}),console.warn("Invalid token: ".concat(n.aud," !== ").concat(window.location.origin+window.location.pathname)));case 5:case"end":return e.stop()}}),e)}))),500))},g=function(){h("Title",{result:!1}),t.updateTitle("Title Change: ".concat(Math.floor(500*Math.random()))),h("Title",{result:!0})},v=function(){h("Show",{result:!1}),t.showDetail({url:"".concat(window.location.origin).concat(window.location.pathname,"#/tests")}),h("Show",{result:!0})},k=function(){h("Hide",{result:!1}),t.hideDetail(),h("Hide",{result:!0})};return c.a.createElement("div",null,c.a.createElement("h2",null,"Tests:"),c.a.createElement("ul",{className:"action-list"},o.filter((function(e){return"summary"===r&&e.inSummary||"detail"===r&&e.inDetail})).map((function(e){return c.a.createElement("li",{className:"checklist",key:e.name},e.loading?c.a.createElement("span",{"aria-label":"loading",role:"img",className:"pass"},"\ud83e\udd14"):c.a.createElement(c.a.Fragment,null,e.result?c.a.createElement("span",{"aria-label":"pass",role:"img",className:"pass"},"\u2705"):c.a.createElement("span",{"aria-label":"fail",role:"img",className:"pass"},"\u274c")),c.a.createElement("div",{className:"item"},e.name),c.a.createElement("div",{className:"item"},c.a.createElement("button",{className:"btn primary action-small",onClick:(t=e.name,function(){b.current[t]()})},"Test ",e.name)));var t}))))},h=a(46),w=a.n(h),g=(a(597),a(276)),v=new URLSearchParams(window.location.search).get("heightZero"),k=function(){var e=Object(n.useRef)(new w.a);Object(n.useEffect)((function(){window.parent.location!==window.location&&e.current.initialize()}),[]);var t=function(t){e.current.showDetail({url:"".concat(window.location.origin).concat(window.location.pathname,"#/").concat(t),title:"Edge Trial Microapp Detail"})};return v?null:c.a.createElement("article",{className:"summary"},c.a.createElement("header",null,c.a.createElement("img",{alt:"Edge Trials Logo",src:"https://cdn.dev.workgrid.com/connectors/lyssa_mock/logos/fire_alarm-512.png"}),c.a.createElement("h1",null,"Edge Trials"," ",c.a.createElement("span",{role:"img","aria-label":"A knife"},"\ud83d\udd2a"))),c.a.createElement("main",null,c.a.createElement("p",null,"This is the Edge Trials. v",g.a),c.a.createElement("section",{className:"section"},c.a.createElement(b,{microapp:e.current,panel:"summary"}),c.a.createElement("label",{htmlFor:"test-input"},"Test Input"),c.a.createElement("input",{className:"form-control",type:"text",placeholder:"Input Test",name:"test-input"})),c.a.createElement("div",{className:"action-block vertical"},c.a.createElement("button",{className:"btn secondary",onClick:function(){var e=document.querySelector("#customer-styles");e.href.match(/base/)?e.href=e.href.replace(/base/,"berkley"):e.href=e.href.replace(/berkley/,"base")}},"Switch Theme"),c.a.createElement("button",{className:"btn secondary",onClick:function(){return t("iframe")}},"iFrame Tests"),c.a.createElement("button",{className:"btn primary",onClick:function(){return t("exception")}},"Exception Tests"))))},O=(a(116),function(){var e=Object(n.useRef)(new w.a),t=Object(n.useState)(3),a=Object(f.a)(t,2),r=a[0],i=a[1],l=Object(n.useState)(""),o=Object(f.a)(l,2),s=o[0],m=o[1],u=Object(n.useRef)();return Object(n.useEffect)((function(){e.current.initialize(),u.current=setInterval((function(){i((function(e){return e-1}))}),1e3)}),[]),Object(n.useEffect)((function(){r<=0&&(m("https://www.catapultsgame.com/app/"),clearInterval(u.current))}),[r]),c.a.createElement("div",{className:"container"},c.a.createElement("h1",null,"IFrame Detail"),c.a.createElement("p",null,'Tests an inner iFrame. This is a typical use case for "wrapping" an existing app in a MicroApp.'),c.a.createElement("div",{className:"example-block"},c.a.createElement("p",null,"Showing iFrame in ",r,"s"),c.a.createElement("iframe",{style:{width:"100%",borderWidth:1},title:"Example Iframe",src:s})))}),j=function(){var e=Object(n.useRef)(new w.a({}));return Object(n.useEffect)((function(){e.current.initialize()}),[]),c.a.createElement("div",{className:"container"},c.a.createElement("h1",null,"Tests Detail"),c.a.createElement("div",{className:"example-block"},c.a.createElement(b,{microapp:e.current,panel:"detail"})),c.a.createElement("div",{className:"example-block"},c.a.createElement("a",{href:"./test-internal.html"},"Internal Link"),c.a.createElement("a",{href:"https://www.bing.com?q=external",target:"_blank",rel:"noopener noreferrer"},"External Link"),c.a.createElement("a",{href:"tel:1-562-867-5309"},"Tel Link"),c.a.createElement("a",{href:"mailto:support@workgrid.com"},"Mailto Link")))},N=function(){var e=Object(n.useRef)(new w.a({id:"edge-microapp",audience:"edge-microapp"})),t=Object(n.useState)("geolocation"in navigator),a=Object(f.a)(t,1)[0],r=Object(n.useState)(!!navigator.mediaDevices),i=Object(f.a)(r,1)[0],l=Object(n.useState)("Get location data >>"),o=Object(f.a)(l,2),s=o[0],m=o[1],u=Object(n.useState)(!1),p=Object(f.a)(u,2),d=p[0],E=p[1];Object(n.useEffect)((function(){e.current.initialize()}),[]);return c.a.createElement("div",{className:"container"},c.a.createElement("h1",null,"Feature Policy Detail"),c.a.createElement("p",null,"This detail attempts to get location data. You must include the featurePolicy in the catalog entry for this app."),c.a.createElement("div",{className:"example-block"},c.a.createElement("p",null,"GeoLocation is available: ",JSON.stringify(a)),c.a.createElement("div",{className:"feature-block"},c.a.createElement("pre",null,s),c.a.createElement("div",{tabIndex:"0",className:"feature-icon",onClick:function(){if(a){m("Getting location data");try{navigator.geolocation.getCurrentPosition((function(e){m("lat: ".concat(e.coords.latitude,", lon: ").concat(e.coords.longitude))}))}catch(e){m("Error fetching location data")}}else m("Geolocation is not available")}},c.a.createElement("span",{role:"img","aria-label":"position"},"\ud83e\udded"))),c.a.createElement("p",null,"Media is available: ",JSON.stringify(i)),c.a.createElement("div",{className:"feature-block"},i&&c.a.createElement("div",{tabIndex:"1",className:"feature-icon",onClick:function(){return E((function(e){return!e}))}},c.a.createElement("span",{role:"img","aria-label":"mic",className:d?"on":"off"},"\ud83c\udf99\ufe0f")))))},T=function(){var e=Object(n.useRef)(new w.a),t=Object(n.useState)("\ud83d\udce6"),a=Object(f.a)(t,2),r=a[0],i=a[1];Object(n.useEffect)((function(){e.current.initialize()}),[]);return c.a.createElement("div",{className:"container"},c.a.createElement("h1",null,"Exception Detail"),c.a.createElement("p",null,"This tests throwing an unhandled exception in a MicroApp"),c.a.createElement("div",{className:"example-block"},c.a.createElement("p",null,"Status: ",r)),c.a.createElement("div",{className:"action-block"},c.a.createElement("button",{className:"primary",type:"button",onClick:function(){throw i("\ud83e\udd2e"),new Error("\ud83e\udd2e")}},"Throw Exception")))},y=function(){return c.a.createElement(l.a,{basename:window.location.pathname},c.a.createElement(o.a,{path:"/",exact:!0,component:k}),c.a.createElement(o.a,{path:"/tests",component:j}),c.a.createElement(o.a,{path:"/iframe",component:O}),c.a.createElement(o.a,{path:"/featurepolicy",component:N}),c.a.createElement(o.a,{path:"/exception",component:T}))};i.a.render(c.a.createElement(y,null),document.getElementById("root"))}},[[279,1,2]]]);
//# sourceMappingURL=main.2b049be4.chunk.js.map