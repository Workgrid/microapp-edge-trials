{"version":3,"sources":["pages/Summary.js","pages/IFrameDetail.js","pages/GeolocationDetail.js","App.js","index.js"],"names":["Summary","_useState","useState","_useState2","Object","slicedToArray","status","setStatus","microapp","useRef","MicroApp","id","audience","useEffect","console","log","current","initialize","showDetail","detailPage","url","concat","window","location","origin","pathname","title","react_default","a","createElement","className","onClick","Detail","currentCount","setCurrentCount","_useState3","_useState4","iframeUrl","setIframeUrl","countdownTimer","setInterval","prev","clearInterval","style","width","borderWidth","src","navigator","isAvailable","locationData","setLocationData","JSON","stringify","geolocation","getCurrentPosition","position","err","App","react_router_dom","basename","react_router","path","exact","component","IFrameDetail","GeolocationDetail","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.a32933e5.chunk.js","sourcesContent":["import React, { useRef, useEffect, useState } from 'react'\nimport MicroApp from '@workgrid/micro-app'\n\nconst Summary = () => {\n  const [status, setStatus] = useState('Constructed')\n\n  const microapp = useRef(\n    new MicroApp({\n      id: 'edge-microapp',\n      audience: 'edge-microapp'\n    })\n  )\n\n  useEffect(() => {\n    console.log('Initalizing Workgrid in useEffect')\n    microapp.current.initialize()\n    setStatus('Initialized')\n  }, [])\n\n  const showDetail = detailPage => {\n    // We have to use the hash router to show detail due to Github pages limitations\n    microapp.current.showDetail({\n      url: `${window.location.origin}${window.location.pathname}#/${detailPage}`,\n      title: 'Edge Microapp'\n    })\n  }\n\n  return (\n    <div>\n      <h1>Edge Microapp</h1>\n      <p>This is the \"edgy\" microapp.</p>\n      <p>{status}</p>\n      <div className=\"action-block vertical\">\n        <button className=\"secondary\" onClick={() => showDetail('iframe')}>\n          Inner iFrame\n        </button>\n        <button className=\"primary\" onClick={() => showDetail('geolocation')}>\n          Geolocation\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default Summary\n","import React, { useRef, useEffect, useState } from 'react'\nimport MicroApp from '@workgrid/micro-app'\nimport './detail.css'\n\nconst Detail = () => {\n  const microapp = useRef(\n    new MicroApp({\n      id: 'edge-microapp',\n      audience: 'edge-microapp'\n    })\n  )\n\n  const [currentCount, setCurrentCount] = useState(5)\n  const [iframeUrl, setIframeUrl] = useState('')\n  const countdownTimer = useRef()\n\n  useEffect(() => {\n    microapp.current.initialize()\n    countdownTimer.current = setInterval(() => {\n      setCurrentCount(prev => prev - 1)\n    }, 1000)\n  }, [])\n\n  useEffect(() => {\n    if (currentCount <= 0) {\n      setIframeUrl('https://www.catapultsgame.com/app')\n      clearInterval(countdownTimer.current)\n    }\n  }, [currentCount])\n\n  return (\n    <div className=\"container\">\n      <h1>IFrame Detail</h1>\n      <p>Tests an inner iFrame. This is a typical use case for \"wrapping\" an existing app in a MicroApp.</p>\n      <div className=\"exampleBlock\">\n        <p>Showing iFrame in {currentCount}s</p>\n        <iframe style={{ width: '100%', borderWidth: 1 }} title=\"Example Iframe\" src={iframeUrl} />\n      </div>\n    </div>\n  )\n}\n\nexport default Detail\n","import React, { useRef, useEffect, useState } from 'react'\nimport MicroApp from '@workgrid/micro-app'\nimport './detail.css'\n\nconst Detail = () => {\n  const microapp = useRef(\n    new MicroApp({\n      id: 'edge-microapp',\n      audience: 'edge-microapp'\n    })\n  )\n\n  const [isAvailable] = useState('geolocation' in navigator)\n  const [locationData, setLocationData] = useState()\n\n  useEffect(() => {\n    microapp.current.initialize()\n  }, [])\n\n  const getLocationData = () => {\n    if (isAvailable) {\n      console.log('Getting location data')\n      try {\n        navigator.geolocation.getCurrentPosition(position => {\n          console.log('Got location data ', position)\n          setLocationData(JSON.stringify(position, null, 2))\n        })\n      } catch (err) {\n        console.log(err)\n        setLocationData('Error fetching location data')\n      }\n    } else {\n      setLocationData('Geolocation is not available')\n    }\n  }\n\n  return (\n    <div className=\"container\">\n      <h1>Geolocation Detail</h1>\n      <p>\n        This detail attempts to get location data. You must include the featurePolicy in the catalog entry for this app.\n      </p>\n      <div className=\"example-block\">\n        <p>GeoLocation is available: {JSON.stringify(isAvailable)}</p>\n        <pre>{locationData}</pre>\n      </div>\n      <div className=\"action-block\">\n        <button className=\"primary\" onClick={getLocationData}>\n          Get Location\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default Detail\n","import React, { useEffect } from 'react'\nimport { HashRouter as Router, Route } from 'react-router-dom'\n\nimport Summary from './pages/Summary'\nimport IFrameDetail from './pages/IFrameDetail'\nimport GeolocationDetail from './pages/GeolocationDetail'\n\nconst App = () => {\n  return (\n    <Router basename={window.location.pathname}>\n      <Route path=\"/\" exact component={Summary} />\n      <Route path=\"/iframe\" component={IFrameDetail} />\n      <Route path=\"/geolocation\" component={GeolocationDetail} />\n    </Router>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}