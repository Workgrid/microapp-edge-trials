(window["webpackJsonp@workgrid/microapp-edge-trials"]=window["webpackJsonp@workgrid/microapp-edge-trials"]||[]).push([[0],{235:function(e,t,a){},238:function(e){e.exports=JSON.parse('{"a":"0.2.7"}')},245:function(e,t,a){e.exports=a(550)},442:function(e,t,a){},443:function(e,t,a){},448:function(e,t){},450:function(e,t){},489:function(e,t){},490:function(e,t){},550:function(e,t,a){"use strict";a.r(t);a(246),a(247),a(248),a(249),a(250),a(251),a(252),a(253),a(254),a(255),a(256),a(257),a(258),a(259),a(260),a(261),a(262),a(263),a(264),a(265),a(266),a(267),a(268),a(269),a(93),a(270),a(271),a(272),a(273),a(274),a(275),a(276),a(277),a(278),a(279),a(281),a(282),a(283),a(284),a(285),a(286),a(287),a(288),a(289),a(290),a(291),a(292),a(294),a(295),a(296),a(297),a(298),a(299),a(300),a(301),a(302),a(303),a(304),a(305),a(306),a(308),a(309),a(310),a(311),a(312),a(313),a(315),a(317),a(319),a(320),a(321),a(322),a(323),a(324),a(325),a(326),a(327),a(328),a(329),a(330),a(331),a(332),a(333),a(334),a(335),a(336),a(337),a(338),a(340),a(341),a(344),a(345),a(346),a(348),a(349),a(350),a(351),a(352),a(353),a(354),a(355),a(356),a(357),a(358),a(359),a(360),a(361),a(362),a(363),a(364),a(365),a(366),a(181),a(367),a(368),a(369),a(370),a(371),a(372),a(373),a(374),a(375),a(376),a(377),a(378),a(379),a(380),a(381),a(382),a(383),a(384),a(385),a(386),a(387),a(388),a(389),a(390),a(391),a(392),a(393),a(394),a(395),a(396),a(397),a(398),a(399),a(400),a(401),a(402),a(403),a(404),a(405),a(406),a(407),a(408),a(409),a(410),a(411),a(412),a(413),a(415),a(416),a(417),a(418),a(419),a(420),a(421),a(422),a(423),a(424),a(425),a(426),a(427),a(428),a(429),a(431),a(432),a(433),a(434),a(437),a(190);var n=a(1),c=a.n(n),r=a(237),i=a.n(r),o=(a(442),a(242)),l=a(48),u=a(65),s=a.n(u),m=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"secondary",onClick:function(){return window.location.reload(!0)}},"Refresh"))},p=(a(443),a(238)),d=a(150),f=a.n(d),b=a(239),g=a(240),E=a(58),v=a(241);function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(a,!0).forEach((function(t){Object(g.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var h=[{name:"Token"},{name:"Title"},{name:"Show",inDetail:!1},{name:"Hide"}],j=function(e){var t=e.microapp,a=e.panel,r=void 0===a?"summary":a,i=Object(n.useState)(h.map((function(e){return w({inSummary:!0,inDetail:!0,loading:!1,result:!1},e)}))),o=Object(E.a)(i,2),l=o[0],u=o[1],s=Object(n.useRef)({});Object(n.useEffect)((function(){return p()}),[t]),Object(n.useEffect)((function(){s.current.Token=p,s.current.Title=d,s.current.Show=g,s.current.Hide=O}));var m=function(e,t){u((function(a){return a.map((function(a){return a.name===e?w({},a,{},t):a}))}))},p=function(){t&&(m("Token",{loading:!0,result:!1}),setTimeout(Object(b.a)(f.a.mark((function e(){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getToken();case 2:a=e.sent,"edge-microapp"===(n=Object(v.decode)(a)).aud?m("Token",{loading:!1,result:!0}):(m("Token",{loading:!1,result:!1}),console.warn("Invalid token: ".concat(n.aud," !== ").concat("edge-microapp")));case 5:case"end":return e.stop()}}),e)}))),500))},d=function(){m("Title",{result:!1}),t.updateTitle("Title Change: ".concat(Math.floor(500*Math.random()))),m("Title",{result:!0})},g=function(){m("Show",{result:!1}),t.showDetail({url:"".concat(window.location.origin).concat(window.location.pathname,"#/tests")}),m("Show",{result:!0})},O=function(){m("Hide",{result:!1}),t.hideDetail(),m("Hide",{result:!0})};return c.a.createElement(c.a.Fragment,null,c.a.createElement("strong",null,"Tests:"),l.filter((function(e){return"summary"===r&&e.inSummary||"detail"===r&&e.inDetail})).map((function(e){return c.a.createElement("div",{className:"checklist",key:e.name},e.loading?c.a.createElement("span",{"aria-label":"loading",role:"img",className:"pass"},"\ud83e\udd14"):c.a.createElement(c.a.Fragment,null,e.result?c.a.createElement("span",{"aria-label":"pass",role:"img",className:"pass"},"\u2705"):c.a.createElement("span",{"aria-label":"fail",role:"img",className:"pass"},"\u274c")),c.a.createElement("div",{className:"item"},e.name),c.a.createElement("div",{className:"item"},c.a.createElement("button",{className:"action-small",onClick:(t=e.name,function(){s.current[t]()})},"Run")));var t})))},y=function(){var e=Object(n.useRef)(new s.a({id:"edge-microapp-local",audience:"edge-microapp"}));Object(n.useEffect)((function(){e.current.initialize()}),[]);return c.a.createElement("div",null,c.a.createElement("h1",null,"Edge MicroUI"),c.a.createElement("p",null,'This is the "edgy" microapp v',p.a),c.a.createElement("section",{className:"section"},c.a.createElement(j,{panel:"summary",microapp:e.current}),c.a.createElement("input",{type:"text",placeholder:"Input Test"})),c.a.createElement("div",{className:"action-block vertical"},c.a.createElement(m,null),c.a.createElement("button",{className:"primary",onClick:function(){return t="featurepolicy",void e.current.showDetail({url:"".concat(window.location.origin).concat(window.location.pathname,"#/").concat(t),title:"Edge Microapp"});var t}},"Feature Policy")))},k=(a(235),function(){var e=Object(n.useRef)(new s.a({id:"edge-microapp",audience:"edge-microapp"})),t=Object(n.useState)("geolocation"in navigator),a=Object(E.a)(t,1)[0],r=Object(n.useState)(!!navigator.mediaDevices),i=Object(E.a)(r,1)[0],o=Object(n.useState)("Get location data >>"),l=Object(E.a)(o,2),u=l[0],m=l[1],p=Object(n.useState)(!1),d=Object(E.a)(p,2),f=d[0],b=d[1];Object(n.useEffect)((function(){e.current.initialize()}),[]);return c.a.createElement("div",{className:"container"},c.a.createElement("h1",null,"Feature Policy Detail"),c.a.createElement("p",null,"This detail attempts to get location data. You must include the featurePolicy in the catalog entry for this app."),c.a.createElement("div",{className:"example-block"},c.a.createElement("p",null,"GeoLocation is available: ",JSON.stringify(a)),c.a.createElement("div",{className:"feature-block"},c.a.createElement("pre",null,u),c.a.createElement("div",{tabIndex:"0",className:"feature-icon",onClick:function(){if(a){m("Getting location data");try{navigator.geolocation.getCurrentPosition((function(e){m("lat: ".concat(e.coords.latitude,", lon: ").concat(e.coords.longitude))}))}catch(e){m("Error fetching location data")}}else m("Geolocation is not available")}},c.a.createElement("span",{role:"img","aria-label":"position"},"\ud83e\udded"))),c.a.createElement("p",null,"Media is available: ",JSON.stringify(i)),c.a.createElement("div",{className:"feature-block"},i&&c.a.createElement("div",{tabIndex:"1",className:"feature-icon",onClick:function(){return b((function(e){return!e}))}},c.a.createElement("span",{role:"img","aria-label":"mic",className:f?"on":"off"},"\ud83c\udf99\ufe0f")))))}),N=function(){var e=Object(n.useRef)(new s.a({id:"edge-microapp",audience:"edge-microapp"}));return Object(n.useEffect)((function(){e.current.initialize()}),[]),c.a.createElement("div",{className:"container"},c.a.createElement("h1",null,"Tests in Detail"),c.a.createElement("div",{className:"example-block"},c.a.createElement(j,{microapp:e.current,panel:"detail"})))},T=function(){return c.a.createElement(o.a,{basename:window.location.pathname},c.a.createElement(l.a,{path:"/",exact:!0,component:y}),c.a.createElement(l.a,{path:"/featurepolicy",component:k}),c.a.createElement(l.a,{path:"/tests",component:N}))};i.a.render(c.a.createElement(T,null),document.getElementById("root"))}},[[245,1,2]]]);
//# sourceMappingURL=main.d9c101c7.chunk.js.map